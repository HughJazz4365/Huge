const gpu = @import("../../root.zig").gpu;
const vk = @import("vk.zig");
pub fn compatibleFormats(format: gpu.Format) []const vk.Format {
    _ = vk.Format;
    return switch (format) {
        .rgba8_norm => //
        &.{
            .b8g8r8a8_unorm,
            .r8g8b8a8_unorm,
            .a8b8g8r8_unorm_pack32,
            .r4g4b4a4_unorm_pack16,
            .b4g4r4a4_unorm_pack16,
            .r5g5b5a1_unorm_pack16,
            .b5g5r5a1_unorm_pack16,
            .a1r5g5b5_unorm_pack16,
            .r8g8b8_unorm,
            .b8g8r8_unorm,
            .a2b10g10r10_unorm_pack32,
            .a2r10g10b10_unorm_pack32,
            .r16g16b16_unorm,
            .r16g16b16a16_unorm,
        },
        .rgba8 => &.{
            .r8g8b8a8_uscaled,
            .b8g8r8a8_uscaled,
            .a8b8g8r8_uscaled_pack32,
            .r8g8b8a8_srgb,
            .b8g8r8a8_srgb,
            .a8b8g8r8_srgb_pack32,

            .b8g8r8a8_unorm,
            .r8g8b8a8_unorm,
            .a8b8g8r8_unorm_pack32,
        },
        .r8_norm => &.{
            .r8_unorm,
            .r8_uscaled,
            .r8_srgb,
        },
        .r8 => &.{
            .r8_uscaled,
            .r8_srgb,
            .r16_sfloat,
            .r16_uscaled,
            .r8g8_uscaled,
            .r8_unorm,
        },
        .rgba32 => &.{},

        //depth
        .depth32 => &.{
            .d32_sfloat,
            .d24_unorm_s8_uint,
            .x8_d24_unorm_pack32,
            .d16_unorm_s8_uint,
            .d16_unorm,
            .d32_sfloat_s8_uint,
            .s8_uint,
        },
        .depth16 => &.{
            .d16_unorm,
            .d16_unorm_s8_uint,
            .d24_unorm_s8_uint,
            .x8_d24_unorm_pack32,
            .d32_sfloat,
            .d32_sfloat_s8_uint,
            .s8_uint,
        },
        .stencil8 => &.{
            .s8_uint,
            .d16_unorm_s8_uint,
            .d24_unorm_s8_uint,
            .d32_sfloat_s8_uint,
            .x8_d24_unorm_pack32,
            .d16_unorm,
            .d32_sfloat,
        },
        .depth16_stencil8 => &.{
            .d16_unorm_s8_uint,
            .d24_unorm_s8_uint,
            .d32_sfloat_s8_uint,
            .d16_unorm,
            .d32_sfloat,
            .x8_d24_unorm_pack32,
            .s8_uint,
        },
        .depth24_stencil8 => &.{
            .d24_unorm_s8_uint,
            .d16_unorm_s8_uint,
            .d32_sfloat_s8_uint,
            .d32_sfloat,
            .x8_d24_unorm_pack32,
            .d16_unorm,
            .s8_uint,
        },
        .depth32_stencil8 => &.{
            .d32_sfloat_s8_uint,
            .d24_unorm_s8_uint,
            .d16_unorm_s8_uint,
            .d32_sfloat,
            .x8_d24_unorm_pack32,
            .d16_unorm,
            .s8_uint,
        },
        .bc1_rgb_norm => &.{.bc1_rgb_unorm_block},
        .bc1_rgb_srgb => &.{.bc1_rgb_srgb_block},
        .bc1_rgba_norm => &.{.bc1_rgba_unorm_block},
        .bc1_rgba_srgb => &.{.bc1_rgba_srgb_block},

        .bc2_norm => &.{.bc2_unorm_block},
        .bc2_srgb => &.{.bc2_srgb_block},

        .bc3_norm => &.{.bc3_unorm_block},
        .bc3_srgb => &.{.bc3_srgb_block},

        .bc4_norm => &.{.bc4_unorm_block},

        .bc5_norm => &.{.bc5_unorm_block},

        .bc6_ufloat => &.{.bc6h_ufloat_block},
        .bc6_sfloat => &.{.bc6h_sfloat_block},

        .bc7_norm => &.{.bc7_unorm_block},
        .bc7_srgb => &.{.bc7_srgb_block},
        else => &.{},
    };
    // r4g4_unorm_pack8 = 1,
    // r4g4b4a4_unorm_pack16 = 2,
    // b4g4r4a4_unorm_pack16 = 3,
    // r5g6b5_unorm_pack16 = 4,
    // b5g6r5_unorm_pack16 = 5,
    // r5g5b5a1_unorm_pack16 = 6,
    // b5g5r5a1_unorm_pack16 = 7,
    // a1r5g5b5_unorm_pack16 = 8,
    // r8_unorm = 9,
    // r8_uscaled = 11,
    // r8_srgb = 15,
    // r8g8_unorm = 16,
    // r8g8_uscaled = 18,
    // r8g8_srgb = 22,
    // r8g8b8_unorm = 23,
    // r8g8b8_uscaled = 25,
    // r8g8b8_srgb = 29,
    // b8g8r8_unorm = 30,
    // b8g8r8_uscaled = 32,
    // b8g8r8_srgb = 36,
    // r8g8b8a8_unorm = 37,
    // r8g8b8a8_uscaled = 39,
    // r8g8b8a8_srgb = 43,
    // b8g8r8a8_unorm = 44,
    // b8g8r8a8_uscaled = 46,
    // b8g8r8a8_srgb = 50,
    // a8b8g8r8_unorm_pack32 = 51,
    // a8b8g8r8_uscaled_pack32 = 53,
    // a8b8g8r8_srgb_pack32 = 57,
    // a2r10g10b10_unorm_pack32 = 58,
    // a2r10g10b10_snorm_pack32 = 59,
    // a2r10g10b10_uscaled_pack32 = 60,
    // a2r10g10b10_uint_pack32 = 62,
    // a2b10g10r10_unorm_pack32 = 64,
    // a2b10g10r10_uscaled_pack32 = 66,
    // r16_unorm = 70,
    // r16_uscaled = 72,
    // r16_sfloat = 76,
    // r16g16_unorm = 77,
    // r16g16_uscaled = 79,
    // r16g16_sfloat = 83,
    // r16g16b16_unorm = 84,
    // r16g16b16_uscaled = 86,
    // r16g16b16_sfloat = 90,
    // r16g16b16a16_unorm = 91,
    // r16g16b16a16_uscaled = 93,
    // r16g16b16a16_uint = 95,
    // r16g16b16a16_sfloat = 97,
    // r32_sfloat = 100,
    // r32g32_uint = 101,
    // r32g32_sint = 102,
    // r32g32_sfloat = 103,
    // r32g32b32_uint = 104,
    // r32g32b32_sint = 105,
    // r32g32b32_sfloat = 106,
    // r32g32b32a32_uint = 107,
    // r32g32b32a32_sint = 108,
    // r32g32b32a32_sfloat = 109,
    // r64_uint = 110,
    // r64_sint = 111,
    // r64_sfloat = 112,
    // r64g64_uint = 113,
    // r64g64_sint = 114,
    // r64g64_sfloat = 115,
    // r64g64b64_uint = 116,
    // r64g64b64_sint = 117,
    // r64g64b64_sfloat = 118,
    // r64g64b64a64_uint = 119,
    // r64g64b64a64_sint = 120,
    // r64g64b64a64_sfloat = 121,
    // b10g11r11_ufloat_pack32 = 122,
    // e5b9g9r9_ufloat_pack32 = 123,
    // d16_unorm = 124,
    // d32_sfloat = 126,
    // s8_uint = 127,
    // d16_unorm_s8_uint = 128,
    // d24_unorm_s8_uint = 129,
    // d32_sfloat_s8_uint = 130,
}
pub const Mask = packed struct {
    color: bool = false,
    depth: bool = false,
    stencil: bool = false,
};
pub fn mask(vk_format: vk.Format) Mask {
    return .{
        .color = switch (vk_format) {
            .d16_unorm,
            .x8_d24_unorm_pack32,
            .d32_sfloat,
            .s8_uint,
            .d16_unorm_s8_uint,
            .d24_unorm_s8_uint,
            .d32_sfloat_s8_uint,
            => false,
            else => true,
        },
        .depth = switch (vk_format) {
            .d16_unorm,
            .x8_d24_unorm_pack32,
            .d32_sfloat,
            .d16_unorm_s8_uint,
            .d24_unorm_s8_uint,
            .d32_sfloat_s8_uint,
            => true,
            else => false,
        },
        .stencil = switch (vk_format) {
            .s8_uint,
            .d16_unorm_s8_uint,
            .d24_unorm_s8_uint,
            .d32_sfloat_s8_uint,
            => true,
            else => false,
        },
    };
}
